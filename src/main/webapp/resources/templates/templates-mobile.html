<script id="main-view" type="text/template">
    <table width='100%'>
        <tr>
            <td width='30%' valign='top'>
                <div id='itemMenu'/>
            </td>
        </tr>
    </table>
</script>


<script id="category-title" type="text/template">
    <li>
        <a href="#"><%= description %></a>
        <ul id="category-<%=id%>"></ul>
    </li>
</script>

<script id="city" type="text/template">
    <li><a href="#"><%= city %></a>
        <ul id="category-<%= city %>"></ul>
    </li>
</script>

<script id="event-summary" type="text/template">
    <a href="#events/<%=id%>"><%=name%></a>
</script>

<script id="venue-summary" type="text/template">
    <a href="#venue/<%=id%>"><%=name%></a>
</script>


<script id="venue-summary-view" type="text/template">
    <table>
        <thead>
        <tr>
            <td colspan="2"><h1><%=name%></h1></td>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2"> <% if(picture != null) {%>
                <img width='100px' src='rest/media/<%=picture.id%>'/>
                <% } else { %>
                We cannot show you a picture, but trust us, it is very cool
                <% } %>
            </td>
            <td> <%=description%></td>
        <tr/>
        <tr>
            <td><a href='#venues/<%=id%>'>Get details</a></td>
        </tr>
    </table>
</script>

<script id="event-summary-view" type="text/template">
    <table>
        <thead>
        <tr>
            <td colspan="2"><h1><%=name%></h1></td>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2"> <% if(picture != null) {%>
                <img width='175px' src='rest/media/<%=picture.id%>'/>
                <% } else { %>
                We cannot show you a picture, but trust us, it is very cool
                <% } %>
            </td>
            <td> <%=description%></td>
        <tr/>
        <tr>
            <td><a href='#events/<%=id%>'>Get details</a></td>

        </tr>
        </tbody>
    </table>
</script>


<script id="event-detail" type="text/template">

    <table>
        <tr>
            <td><img width='100px' src='rest/media/<%=picture.id%>'/></td>
            <td><h3><%=name%></h3></td>
        </tr>
        <tr>
            <td colspan="2"><%=description%></td>
        </tr>
        <tr>
            <td colspan="2"><select id='showSelector' data-native-menu="false"/></td>
        </tr>
        <tr>
            <td colspan="2">
                <input type='date' id="dayPicker" data-role="datebox" data-options='{"mode":"calbox"}'/>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <select id="performanceTimes" data-native-menu="false"/>
            </td>
        </tr>
        <tr>
            <td colspan="2"><input name="bookButton" type="button" value="Book"></td>
        </tr>
    </table>
</script>

<script id="venue-detail" type="text/template">

    <table>
        <tr>
            <td><img width='100px' src='rest/media/<%=picture.id%>'/></td>
            <td><h3><%=name%></h3></td>
        </tr>
        <tr>
            <td colspan="2"><%=description%></td>
        </tr>
        <tr>
            <td colspan="2"><select id='showSelector' data-native-menu="false"/></td>
        </tr>
        <tr>
            <td colspan="2">
                <input type='date' id="dayPicker" data-role="datebox" data-options='{"mode":"calbox"}'
                       placeholder='Please select a show date'/>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <select id="performanceTimes" data-native-menu="false"/>
            </td>
        </tr>
        <tr>
            <td colspan="2"><input name="bookButton" type="button" value="Book"></td>
        </tr>
    </table>
</script>


<script id="booking-row" type="text/template">
    <a href="#booking/<%=id%>"><%=contactEmail%></a>
    <a data-tm-role='delete' href="#">Delete</a>
</script>

<script id="create-booking" type="text/template">

    <h3><%=show.event.name%></h3>
    <h4><%=show.venue.name%> on <%=new Date(performance.date).toPrettyString()%> </h4></td>

    <div id="sectionSelectorPlaceholder"/>


    <div id="ticketCategoriesViewPlaceholder"/>

    <div id="ticketSummaryView"/>

    <div id="bookingView">
        <label for='email'>Email</label>
        <input type='email' name='email' placeholder="Email" value=""/>

        <p/>
        <input type='button' name="submit" value="Book!" disabled="true"/>

    </div>

</script>

<script id="select-section" type="text/template">
    Select section:
    <select id="sectionSelect" data-native-menu='false' data-prevent-focus-zoom='true'>
        <option value="-1" selected="true">Choose a section</option>
        <% _.each(sections, function(section) { %>
        <option value="<%=section.id%>"><%=section.name%> - <%=section.description%></option>
        <% }) %>
    </select>
</script>

<script id="ticket-entries" type="text/template">
    <form name="ticketCategories">
        <% if (priceCategories.length > 0) { %>
        <% _.each(priceCategories, function(priceCategory) { %>
        <div id="ticket-category-input-<%=priceCategory.id%>"/>
        <% }) %>
    </form>
    <p/>
    <input type="button" name="add" value="Add!"/>
    <% } %>
</script>

<script id="ticket-entry" type="text/template">
    <%=priceCategory.ticketCategory.description%>(<%=priceCategory.price%>)<input type="number"
                                                                                  placeholder="Enter value"
                                                                                  name="tickets"/>
</script>

<script id="ticket-summary-view" type="text/template">
    Current request:</p>
    <% _.each(tickets, function(ticketRequest) { %>
    <% _.each(ticketRequest.models, function(model) { %>
    <% if (model.attributes.quantity != undefined) { %>
    <%= model.attributes.priceCategory.section.name %> (<%= model.attributes.priceCategory.section.description %>) -
    (<%= model.attributes.priceCategory.ticketCategory.description %>):
    <%= model.attributes.quantity %>
    <% } %>
    <% }) %>
    <% }) %>
</script>

<script id="booking-details" type="text/template">
    <table>
        <thead>
        <tr>
            <td colspan="5">Booking <%=id%></td>
        <tr>
        <tr>
            <td>Ticket #</td>
            <td>Category</td>
            <td>Section</td>
            <td>Row</td>
            <td>Seat</td>
        </tr>
        </thead>
        <tbody>
        <% $.each(_.sortBy(tickets, function(ticket) {return ticket.id}), function (i, ticket) { %>
        <tr>
            <td><%= ticket.id %></td>
            <td><%=ticket.ticketCategory.description%></td>
            <td><%=ticket.seat.section.name%></td>
            <td><%=ticket.seat.rowNumber%></td>
            <td><%=ticket.seat.number%></td>
        </tr>
        <% }) %>
        <tr>
            <td colspan="5"/>
            <a href="#bookings">Show all</a>
            <td>
        </tr>

        </tbody>
      </table>
</script>
