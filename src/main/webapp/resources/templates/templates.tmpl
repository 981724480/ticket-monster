<script id="main-view" type="text/template">
    <table width='100%'>
        <tr>
            <td width='30%' valign='top'>
                <div id='eventMenu'/>
            </td>
            <td width='70%'>
                <div id='eventSummary'/>
            </td>
        </tr>
    </table>
</script>


<script id="category-title" type="text/template">
    <h3><a href="#"><%= description %></a></h3>
</script>

<script id="event-summary" type="text/template">
    <a href="#"><%=name%></a>
</script>

<script id="event-summary-view" type="text/template">
    <table>
        <thead>
        <tr>
            <td colspan="2"><h1><%=name%></h1></td>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2"> <% if(picture != null) {%>
                <img width='350px' src='rest/media/<%=picture.id%>'/>
                <% } else { %>
                We cannot show you a picture, but trust us, it is very cool
                <% } %>
            </td>
            <td> <%=description%></td>
        <tr/>
        <tr>
            <td><a href='#events/<%=id%>'>Get details</a></td>
        </tbody>
        </tr>
    </table>
</script>

<script id="booking-row" type="text/template">
    <tr>
        <td><%=id%></td>
        <td><%=contactEmail%></td>
        <td><input name='delete' type='button' value='Delete'/></td>
    </tr>
</script>

<script id="create-booking" type="text/template">
    <table>
        <tr>
            <td><h3><%=show.event.name%></h3></td>
        </tr>
        <tr>
            <td><h4><%=show.venue.name%> on <%=new Date(performance.date).toPrettyString()%> </h4></td>
        </tr>
        <tr>
            <td>
                <div id="sectionSelectorPlaceholder"/>
            </td>
        </tr>
        <tr>
            <td>
                <div id="ticketCategoriesViewPlaceholder"/>
            </td>
        </tr>
        <tr>
                         <td>
                             <div id="ticketSummaryView"/>
                         </td>
                     </tr>
         <tr>
            <td>
                 <input type='button' name="submit" value="Book!" disabled="true"/>
            </td>
         <tr>
    </table>
</script>

<script id="select-section" type="text/template">
    <label for="sectionSelect">Select section:</label>
    <select id="sectionSelect">
        <option value="-1" selected="true">Choose a section</option>
        <% _.each(sections, function(section) { %>
        <option value="<%=section.id%>"><%=section.name%> - <%=section.description%></option>
        <% }) %>
    </select>
</script>

<script id="ticket-entries" type="text/template">
    <form name="ticketCategories">
     <% if (priceCategories.length > 0) { %>
     <%  _.each(priceCategories, function(priceCategory) { %>
        <div id="ticket-category-input-<%=priceCategory.id%>"/>
        <% }) %>
    </form><p/>
    <input type="button" name="add" value="Add!"/>
    <% } %>
</script>

<script id="ticket-entry" type="text/template">
    <label><%=priceCategory.ticketCategory.description%>(<%=priceCategory.price%>)</label><input type="number" title="Enter value" name="tickets"/>
</script>

<script id="ticket-summary-view" type="text/template">
    Current request:</p>
   <% _.each(tickets, function(ticketRequest) { %>
          <% _.each(ticketRequest.models, function(model) { %>
            <% if (model.attributes.quantity != undefined) { %>
               <%= model.attributes.priceCategory.section.name %> (<%= model.attributes.priceCategory.section.description %>) -
                   (<%= model.attributes.priceCategory.ticketCategory.description %>):
                    <%= model.attributes.quantity %>
           <% } %>
          <% }) %>
       <% }) %>
</script>


