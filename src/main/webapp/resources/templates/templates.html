<script id="main-view" type="text/template">
    <div class="row">
        <div class="span3">
            <div id="itemMenu"/>

        </div>
        <div id='itemSummary' class="span9"/>
    </div>
</script>


<script id="category-title" type="text/template">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" style="color: #fff; background: #000;" data-target="#category-<%=id%>-collapsible" data-toggle="collapse"
               data-parent="#itemMenu"
               href="#"><%= description %></a>
        </div>
        <div id="category-<%=id%>-collapsible" class="collapse in accordion-body">
            <div id="category-<%=id%>" class="accordion-inner"></div>
        </div>
    </div>
</script>

<script id="city" type="text/template">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-target="#category-<%=id%>-collapsible" data-toggle="collapse"
               data-parent="#itemMenu"
               href="#"><%= city %></a>
        </div>
        <div id="category-<%=id%>-collapsible" class="collapse in accordion-body">
            <div id="category-<%=id%>" class="accordion-inner"></div>
        </div>
    </div>
</script>

<script id="event-summary" type="text/template">
    <a href="#"><%=name%></a>
</script>

<script id="venue-summary" type="text/template">
    <a href="#"><%=name%></a>
</script>


<script id="venue-summary-view" type="text/template">
    <table>
        <thead>
        <tr>
            <td colspan="2"><h1><%=name%></h1></td>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2"> <% if(picture != null) {%>
                <img width='350px' src='rest/media/<%=picture.id%>'/>
                <% } else { %>
                We cannot show you a picture, but trust us, it is very cool
                <% } %>
            </td>
            <td> <%=description%></td>
        <tr/>
        <tr>
            <td><a href='#venues/<%=id%>'>Get details</a></td>
        </tr>
    </table>
</script>

<script id="event-summary-view" type="text/template">
    <div class="row">
        <div class="span5"><% if(picture != null) {%>
            <img class="span4" src='rest/media/<%=picture.id%>'/>
            <% } else { %>
            We cannot show you a picture, but trust us, it is very cool
            <% } %>
        </div>
        <div class="span3">
            <div class="row">
                <div><h3><%=name%></h3></div>
            </div>
            <div class="row">&nbsp;</div>
            <div class="row">
                <td><%=description%></td>
            </div>
            <div class="row">&nbsp;</div>
            <div class="row"><a class="btn btn-primary" href='#events/<%=id%>'>Show times</a></div>
        </div>
    </div>
</script>


<script id="event-detail" type="text/template">
    <div class="row">
        <div class="span5"><% if(picture != null) {%>
            <img class="span4" src='rest/media/<%=picture.id%>'/>
            <% } else { %>
            We cannot show you a picture, but trust us, it is very cool
            <% } %>
        </div>
        <div class="span6">
            <h2 class="page-header"><%=name%></h2>

            <form class="form-horizontal well">
                <div class="control-group">
                    <label class="control-label" for="venueSelector">Venue</label>

                    <div class="controls">
                        <select id='venueSelector' class="span3"/>

                        <p class="help-block">
                            <small>Select a venue</small>
                        </p>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="venueSelector">Date</label>

                    <div class="controls">
                        <select id="dayPicker" class="span3"/>

                        <p class="help-block">
                            <small>Select a date</small>
                        </p>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="venueSelector">Performance Time</label>

                    <div class="controls">
                        <select id="performanceTimes"/>

                        <p class="help-block">
                            <small>Select a performance time</small>
                        </p>
                    </div>
                </div>
                <div class="control-group">
                    <div class="controls">
                        <div id='bookingOption'><input name="bookButton" class="btn btn-primary" type="button"
                                                       value="Book"></div>
                    </div>
                </div>
            </form>

        </div>
    </div>
</script>

<script id="venue-detail" type="text/template">

    <table>
        <tr>
            <td colspan="2"><h1><%=name%></h1></td>
        </tr>
        <tr>
            <td rowspan="4"> <% if(picture != null) {%>
                <img width='350px' src='rest/media/<%=picture.id%>'/>
                <% } else { %>
                We cannot show you a picture, but trust us, it is very cool
                <% } %>
            </td>
            <td><label for='eventSelector'>Event: </label><select id='eventSelector'/></td>
        </tr>

        <tr>
            <td>
                <div type='text' id="dayPicker"/>
            </td>
            <td>
                <label for="performanceTimes">Choose a time:</label><select id="performanceTimes"/>
            </td>
        </tr>
        <tr>
            <td><%=description%></td>
        </tr>
        <tr>
            <td><input name="bookButton" type="button" value="Book"></td>
        </tr>
    </table>
</script>


<script id="booking-row" type="text/template">
    <tr>
        <td><a><%=id%></a></td>
        <td><a><%=contactEmail%></a></td>
        <td><a class="btn btn-danger btn-mini" name='delete'><i class="icon-trash icon-white"/></a></td>
    </tr>
</script>

<script id="create-booking" type="text/template">
    <div class="row-fluid">
        <div class="span12">
            <h2><%=show.event.name%>
                <small><%=show.venue.name%>, <%=new Date(performance.date).toPrettyString()%></p></small>
            </h2>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span6">
            <h3 class="page-header">Book tickets</h3>

            <div id="sectionSelectorPlaceholder" class="row-fluid"></div>
            <div id="ticketCategoriesViewPlaceholder" class="row-fluid"></div>
        </div>

        <div id="request-summary" class="span5 right border: 1px;">
            <h3 class="page-header">Current booking request</h3>

            <div id="ticketSummaryView"/>
            <p/><input type='email' name="email" placeholder="Email" required/>

            <p/><input type='button' class="btn btn-primary" name="submit" value="Book!" disabled="true"/>
        </div>
    </div>
</script>

<script id="select-section" type="text/template">
    <div class="control-group">
        <label class="control-label" for="sectionSelect">Section</label>

        <div class="controls">
            <select id="sectionSelect">
                <option value="-1" selected="true">Choose a section</option>
                <% _.each(sections, function(section) { %>
                <option value="<%=section.id%>"><%=section.name%> - <%=section.description%></option>
                <% }) %>
            </select>
        </div>
    </div>
</script>

<script id="event-carousel" type="text/template">
    <div id="myCarousel" class="carousel span6">
        <!-- Carousel items -->
        <div class="carousel-inner">

            <%_.each(models, function(model) { %>
                    <div class="item">
                        <img width="500px" src='rest/media/<%=model.attributes.picture.id%>'/>
                        <div class="carousel-caption">
                            <h4><%=model.attributes.name%></h4>
                            <p><%=model.attributes.description%></p>
                        </div>
                    </div>
            <% }) %>
        </div>
        <!-- Carousel nav -->
        <a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
        <a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>
    </div>
</script>

<script id="ticket-entries" type="text/template">
    <% if (priceCategories.length > 0) { %>
    <% _.each(priceCategories, function(priceCategory) { %>
    <div id="ticket-category-input-<%=priceCategory.id%>"/>
    <% }) %>
    <div class="control-group">
        <label class="control-label"/>

        <div class="controls">
            <input type="button" class="btn btn-primary" name="add" value="Add tickets"/>
        </div>
    </div>
    <% } %>
</script>

<script id="ticket-entry" type="text/template">
    <div class="control-group">
        <label class="control-label"><%=priceCategory.ticketCategory.description%></label>
        <div class="controls"><div class="input-append"><input class="span2" rel="tooltip" title="Enter value" type="number" min="1" max="9"
                                     placeholder="Number of tickets" name="tickets-<%=priceCategory.ticketCategory.id%>"/><span class="add-on">@ $<%=priceCategory.price%></span></div>
        </div>
    </div>
</script>

<script id="ticket-summary-view" type="text/template">
    <dl>
        <%
            _.each(tickets, function(ticketRequest) {
        %>
        <dt>Section <%= ticketRequest.priceCategory.section.name %> (<%= ticketRequest.priceCategory.section.description%>)</dt>
        <dd><p><%= ticketRequest.priceCategory.ticketCategory.description %>: <%= ticketRequest.quantity %> @ $<%=ticketRequest.priceCategory.price%></p></dd>
        <% }) %>
        <dt>Total</dt>
        <dd><%= totals.tickets %> tickets for $<%= totals.price %></dd>
    </dl>
</script>

<script id="booking-details" type="text/template">
    <div class="row">
        <div class="span10">
            <table class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th colspan="5">Booking <%=id%></th>
                <tr>
                <tr>
                    <th>Ticket #</th>
                    <th>Category</th>
                    <th>Section</th>
                    <th>Row</th>
                    <th>Seat</th>
                </tr>
                </thead>
                <tbody>
                <% $.each(_.sortBy(tickets, function(ticket) {return ticket.id}), function (i, ticket) { %>
                <tr>
                    <td><%= ticket.id %></td>
                    <td><%=ticket.ticketCategory.description%></td>
                    <td><%=ticket.seat.section.name%></td>
                    <td><%=ticket.seat.rowNumber%></td>
                    <td><%=ticket.seat.number%></td>
                </tr>
                <% }) %>
                </tbody>
            </table>
        </div>
    </div>
</script>


