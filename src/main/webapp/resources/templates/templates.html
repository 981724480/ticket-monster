<script id="main-view" type="text/template" xmlns="http://www.w3.org/1999/html">
    <div class="row-fluid">
        <div class="span3">
            <div id="itemMenu"/>
        </div>
    <div id='itemSummary' class="span9"/>
</script>

<script id="category-title" type="text/template">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" style="color: #fff; background: #000;" data-target="#category-<%=id%>-collapsible" data-toggle="collapse"
               data-parent="#itemMenu"><%= description %></a>
        </div>
        <div id="category-<%=id%>-collapsible" class="collapse in accordion-body">
            <div id="category-<%=id%>" class="accordion-inner"></div>
        </div>
    </div>
</script>

<script id="city" type="text/template">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" style="color: #fff; background: #000;" data-target="#city-<%=city%>-collapsible" data-toggle="collapse"
               data-parent="#itemMenu"><%= city %></a>
        </div>
        <div id="city-<%=city%>-collapsible" class="collapse in accordion-body">
            <div id="city-<%=city%>" class="accordion-inner"></div>
        </div>
    </div>
</script>

<script id="event-summary" type="text/template">
    <a href="#events/<%=id%>" rel="popover" data-content="<%=description%>" data-original-title="<%=name%>"><%=name%></a>
</script>

<script id="venue-summary" type="text/template">
    <a href="#venues/<%=id%>" rel="popover" data-content="<%=description%>" data-original-title="<%=name%>"><%=name%></a>
</script>


<script id="venue-summary-view" type="text/template">
    <div class="row-fluid">
        <div class="span5"><% if(picture != null) {%>
            <img class="span4" src='rest/media/<%=picture.id%>'/>
            <% } else { %>
            We cannot show you a picture, but trust us, it is very cool
            <% } %>
        </div>
        <div class="span3">
            <div class="row-fluid">
                <div><h3><%=name%></h3></div>
            </div>
            <div class="row-fluid">&nbsp;</div>
            <div class="row-fluid">
                <td><%=description%></td>
            </div>
            <div class="row-fluid">&nbsp;</div>
            <div class="row-fluid"><a class="btn btn-primary" href='#venues/<%=id%>'>Show times</a></div>
        </div>
    </div>
</script>

<script id="event-summary-view" type="text/template">
    <div class="row-fluid">
        <div class="span5"><% if(picture != null) {%>
            <img class="span4" src='rest/media/<%=picture.id%>'/>
            <% } else { %>
            We cannot show you a picture, but trust us, it is very cool
            <% } %>
        </div>
        <div class="span3">
            <div class="row-fluid">
                <div><h3><%=name%></h3></div>
            </div>
            <div class="row-fluid">&nbsp;</div>
            <div class="row-fluid">
                <td><%=description%></td>
            </div>
            <div class="row-fluid">&nbsp;</div>
            <div class="row-fluid"><a class="btn btn-primary" href='#events/<%=id%>'>Show times</a></div>
        </div>
    </div>
</script>

<script type="text/template" id="event-venue-description">
    <address>
        <p><%= venue.description %></p>
        <p><strong>Address:</strong></p>
        <p><%= venue.address.street %></p>
        <p><%= venue.address.city %>, <%= venue.address.country %></p>
    </address>
</script>

<script id="event-detail" type="text/template">
    <div class="row-fluid">
        <div class="span5"><% if(picture != null) {%>
            <div class="row-fluid"><img class="span4" src='rest/media/<%=picture.id%>'/>
                <% } else { %>
                We cannot show you a picture, but trust us, it is very cool
                <% } %>
            </div>
            <div class="row-fluid">&nbsp;</div>
            <div class="row-fluid">
                <div class="control-group span4">
                    <label class="control-label" for="venueSelector">Where: </label>

                    <div class="controls">
                        <select id='venueSelector' class="span3"/>
                    </div>
                </div>
            </div>
            <div id="eventVenueDescription">&nbsp;</div>
        </div>
        <div class="span6">
            <h2 class="page-header"><%=name%></h2>

            <div class="form-horizontal well" style="padding: 20px">
                <div class="control-group">
                    <label class="control-label" for="venueSelector">Date</label>

                    <div class="controls">
                        <select id="dayPicker" class="span3"/>

                        <p class="help-block">
                            <small>Select a date</small>
                        </p>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="venueSelector">Time</label>

                    <div class="controls">
                        <select id="performanceTimes"/>

                        <p class="help-block">
                            <small>Select a performance time</small>
                        </p>
                    </div>
                </div>
                <div class="control-group">
                    <div class="controls">
                        <div id='bookingOption'><input name="bookButton" class="btn btn-primary" type="button"
                                                       value="Order tickets"></div>
                    </div>
                </div>
                </form>

            </div>
        </div>
    </div>
</script>

<script id="venue-detail" type="text/template">
    <div class="row-fluid">
        <div class="span5"><% if(picture != null) {%>
            <div class="row-fluid"><img class="span4" src='rest/media/<%=picture.id%>'/>
                <% } else { %>
                We cannot show you a picture, but trust us, it is very cool
                <% } %>
            </div>
            <div class="row-fluid">&nbsp;</div>
            <div class="row-fluid">
                <div class="control-group">
                    <label class="control-label" for="eventSelector">Where: </label>

                    <div class="controls">
                        <select id='eventSelector' class="span3"/>
                    </div>
                </div>
            </div>
            <div id="venueEventDescription">&nbsp;</div>
        </div>
        <div class="span6">
            <h2 class="page-header"><%=name%></h2>
            <h4 style="margin: 10px">Find tickets</h4>

            <div class="form-horizontal well" style="padding: 20px">

                <div class="control-group">
                    <label class="control-label" for="dayPicker">Date</label>

                    <div class="controls">
                        <select id="dayPicker" class="span3"/>

                        <p class="help-block">
                            <small>Select a date</small>
                        </p>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="performanceTimes">Performance Time</label>

                    <div class="controls">
                        <select id="performanceTimes"/>

                        <p class="help-block">
                            <small>Select a performance time</small>
                        </p>
                    </div>
                </div>
                <div class="control-group">
                    <div class="controls">
                        <div id='bookingOption'><input name="bookButton" class="btn btn-primary" type="button"
                                                       value="Order tickets"></div>
                    </div>
                </div>
                </form>

            </div>
        </div>
    </div>
</script>

<script id="booking-table" type="text/template">
    <div class='span8'>
        <table class='table table-striped table-bordered' >
            <thead>
                <tr>
                    <th>Booking #</th>
                    <th>Purchaser</th>
                    <th>Created on</th>
                    <th>Total tickets</th>
                    <th>Total price</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id='bookingList'>

            </tbody>
        </table>
    </div>
</script>

<script id="booking-row" type="text/template">
        <td><a><%=id%></a></td>
        <td><%=contactEmail%></td>
        <td><%=new Date(createdOn).toPrettyString()%></td>
        <td><%=tickets.length%></td>
        <td>$<%=totalTicketPrice%></td>
        <td><a class="btn btn-danger btn-mini" name='delete'><i class="icon-trash icon-white"/></a></td>
</script>

<script id="create-booking" type="text/template">
    <div class="row-fluid">
        <div class="span12">
            <h2><%=show.event.name%>
                <small><%=show.venue.name%>, <%=new Date(performance.date).toPrettyString()%></p></small>
            </h2>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span5">
            <h3 class="page-header">Select tickets</h3>
            <div id="sectionSelectorPlaceholder" class="row-fluid"></div>
            <div id="ticketCategoriesViewPlaceholder" class="row-fluid"></div>
        </div>

        <div id="request-summary" class="span6">
            <h3 class="page-header">Summary and checkout</h3>

            <div id="ticketSummaryView" class="row-fluid"/>
            <div class="row-fluid" style="padding-top:25px">
                <div class="span4 well well-small">&nbsp;<input type='email' name="email" placeholder="Email" required/><input type='button'
                                                                                                         class="btn btn-primary"
                                                                                                         name="submit"
                                                                                                         value="Checkout"
                                                                                                         style="margin-bottom:9px;"
                                                                                                         disabled="true"/>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="select-section" type="text/template">
    <div class="control-group">
        <label class="control-label" for="sectionSelect">Section</label>

        <div class="controls">
            <select id="sectionSelect">
                <option value="-1" selected="true">Choose a section</option>
                <% _.each(sections, function(section) { %>
                <option value="<%=section.id%>"><%=section.name%> - <%=section.description%></option>
                <% }) %>
            </select>
        </div>
    </div>
</script>


<script id="ticket-entries" type="text/template">
    <% if (priceCategories.length > 0) { %>
    <% _.each(priceCategories, function(priceCategory) { %>
    <div id="ticket-category-input-<%=priceCategory.id%>"/>
    <% }) %>
    <div class="control-group">
        <label class="control-label"/>

        <div class="controls">
            <input type="button" class="btn btn-primary" name="add" value="Add tickets"/>
        </div>
    </div>
    <% } %>
</script>

<script id="ticket-entry" type="text/template">
    <div class="control-group">
        <label class="control-label"><%=priceCategory.ticketCategory.description%></label>

        <div class="controls">
            <div class="input-append"><input class="span2" rel="tooltip" title="Enter value" type="number" min="1"
                        max="9"
                        placeholder="Number of tickets"
                        name="tickets-<%=priceCategory.ticketCategory.id%>"/><span class="add-on" style="margin-bottom:9px">@ $<%=priceCategory.price%></span>
            </div>
        </div>
    </div>
</script>

<script id="ticket-summary-view" type="text/template">
    <div class="span4">
        <h3>Requested tickets</h3>
        <p/>
        <% if (tickets.length>0) { %>
        <table class="table table-bordered table-condensed">
            <thead>
            <th>Section</th>
            <th>Category</th>
            <th>Quantity</th>
            <th>Price</th>
            <th></th>
            </thead>
            <tbody>
            <%_.each(tickets, function(ticketRequest) {%>
            <tr rel="tooltip" title="Help!">
                <td><%= ticketRequest.priceCategory.section.name %></td>
                <td><%= ticketRequest.priceCategory.ticketCategory.description %></td>
                <td><%= ticketRequest.quantity %></td>
                <td>$<%=ticketRequest.priceCategory.price%></td>
                <td><i class="icon-trash"/></td>
            </tr>
            <% }); %>
            <tr><td colspan="5" style="text-align: center;"><strong>Total count:</strong> <%= totals.tickets %><p/><strong>Total
                price:</strong> $<%=totals.price%>
            </td>
            </tr>
            </tbody>
        </table>
        <% } else { %>
        No tickets booked yet.
        <% } %>
    </div>
</script>

<script id="event-carousel" type="text/template">
    <div id="myCarousel" class="carousel span9">
        <!-- Carousel items -->
        <div class="carousel-inner">

            <%_.each(models, function(model) { %>
                    <div class="item">
                        <img src='rest/media/<%=model.attributes.picture.id%>'/>
                        <div class="carousel-caption">
                            <h4><%=model.attributes.name%></h4>
                            <p><%=model.attributes.description%></p>
                            <a class="btn btn-danger" href="#events/<%=model.id%>">Book tickets</a>
                        </div>
                    </div>
            <% }) %>
        </div>
        <!-- Carousel nav -->
        <a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
        <a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>
    </div>
</script>

<script id="venue-carousel" type="text/template">
    <div id="myCarousel" class="carousel span6">
        <!-- Carousel items -->
        <div class="carousel-inner">

            <%_.each(models, function(model) { %>
            <div class="item">
                <img width="500px" src='rest/media/<%=model.attributes.picture.id%>'/>
                <div class="carousel-caption">
                    <h4><%=model.attributes.name%></h4>
                    <p><%=model.attributes.description%></p>
                    <a class="btn btn-danger" href="#venues/<%=model.id%>">Find events</a>
                </div>
            </div>
            <% }) %>
        </div>
        <!-- Carousel nav -->
        <a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
        <a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>
    </div>
</script>


<script id="booking-confirmation" type="text/template">
    <div class="row-fluid">
        <div class="span6">
            <h3 class="page-header">Booking #<%=booking.id%> confirmed!</h3>

            <p><strong>Purchaser: </strong><%= booking.contactEmail %></p>

            <p><strong>Created on: </strong><%= new Date(booking.createdOn).toPrettyString() %></strong</p>

            <p><strong>Event: </strong> <%= performance.event.name %></p>

            <p><strong>Venue:</strong><%= performance.venue.name %></p>

            <p><strong>Date:</strong><%= new Date(booking.performance.date).toPrettyString() %></p>
        </div>
        <div class="span6">
            <h4 class="page-header">Ticket allocations</h4>
            <table class="table table-striped table-bordered ">
                <thead>

                <tr>
                    <th>Ticket #</th>
                    <th>Category</th>
                    <th>Section</th>
                    <th>Row</th>
                    <th>Seat</th>
                </tr>
                </thead>
                <tbody>
                <% $.each(_.sortBy(booking.tickets, function(ticket) {return ticket.id}), function (i, ticket) { %>
                <tr>
                    <td><%= ticket.id %></td>
                    <td><%=ticket.ticketCategory.description%></td>
                    <td><%=ticket.seat.section.name%></td>
                    <td><%=ticket.seat.rowNumber%></td>
                    <td><%=ticket.seat.number%></td>
                </tr>
                <% }) %>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span2"><a href="#" class="btn btn-info">Home</a></div>
    </div>

</script>


<script id="booking-list" type="text/template">
    <div class="span7">
        <table class='table table-striped table-bordered' id='bookingList'/>
    </div>
    <div class="span5">
        <div id="bookingDetails"/>
    </div>
</script>

<script id="booking-details" type="text/template">
    <div>
        <h3 class="page-header">Booking  #<%=booking.id%></h3>
        <p><strong>Purchaser: </strong><%= booking.contactEmail %></p>
        <p><strong>Created on: </strong><%= new Date(booking.createdOn).toPrettyString() %></strong</p>
        <p><strong>Performance: </strong> <%= performance.event.name %> at <%= performance.venue.name %> on <%= new Date(booking.performance.date).toPrettyString() %></p>

        <h4 class="page-header">Ticket allocations</h4>

        <div class="row-fluid">
            <div class="span3">
                <table class="table table-striped table-bordered">
                    <thead>

                    <tr>
                        <th>Ticket #</th>
                        <th>Category</th>
                        <th>Section</th>
                        <th>Row</th>
                        <th>Seat</th>
                    </tr>
                    </thead>
                    <tbody>
                    <% $.each(_.sortBy(booking.tickets, function(ticket) {return ticket.id}), function (i, ticket) { %>
                    <tr>
                        <td><%= ticket.id %></td>
                        <td><%=ticket.ticketCategory.description%></td>
                        <td><%=ticket.seat.section.name%></td>
                        <td><%=ticket.seat.rowNumber%></td>
                        <td><%=ticket.seat.number%></td>
                    </tr>
                    <% }) %>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</script>


