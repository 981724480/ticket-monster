<script id="main-view" type="text/template">

    <div class="row">
        <div id='itemMenu' class="accordion span3"/>
        <div id='itemSummary' class="span9"/>
    </div>

    </table>
</script>


<script id="category-title" type="text/template">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-target="#category-<%=id%>-collapsible" data-toggle="collapse"
               data-parent="#itemMenu"
               href="#"><%= description %></a>
        </div>
        <div id="category-<%=id%>-collapsible" class="collapse in accordion-body">
            <div id="category-<%=id%>" class="accordion-inner"></div>
        </div>
    </div>
</script>

<script id="city" type="text/template">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-target="#category-<%=id%>-collapsible" data-toggle="collapse"
               data-parent="#itemMenu"
               href="#"><%= city %></a>
        </div>
        <div id="category-<%=id%>-collapsible" class="collapse in accordion-body">
            <div id="category-<%=id%>" class="accordion-inner"></div>
        </div>
    </div>
</script>

<script id="event-summary" type="text/template">
    <a href="#"><%=name%></a>
</script>

<script id="venue-summary" type="text/template">
    <a href="#"><%=name%></a>
</script>


<script id="venue-summary-view" type="text/template">
    <table>
        <thead>
        <tr>
            <td colspan="2"><h1><%=name%></h1></td>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td rowspan="2"> <% if(picture != null) {%>
                <img width='350px' src='rest/media/<%=picture.id%>'/>
                <% } else { %>
                We cannot show you a picture, but trust us, it is very cool
                <% } %>
            </td>
            <td> <%=description%></td>
        <tr/>
        <tr>
            <td><a href='#venues/<%=id%>'>Get details</a></td>
        </tr>
    </table>
</script>

<script id="event-summary-view" type="text/template">
    <div class="row">
        <div class="span5"><% if(picture != null) {%>
            <img class="span4" src='rest/media/<%=picture.id%>'/>
            <% } else { %>
            We cannot show you a picture, but trust us, it is very cool
            <% } %>
        </div>
        <div class="span3">
            <div class="row">
                <div><h3><%=name%></h3></div>
            </div>
            <div class="row">&nbsp;</div>
            <div class="row">
                <td><%=description%></td>
            </div>
            <div class="row">&nbsp;</div>
            <div class="row"><a class="btn btn-primary" href='#events/<%=id%>'>Show times</a></div>
        </div>
    </div>
</script>


<script id="event-detail" type="text/template">
    <div class="row">
        <div class="span5"><% if(picture != null) {%>
            <img class="span4" src='rest/media/<%=picture.id%>'/>
            <% } else { %>
            We cannot show you a picture, but trust us, it is very cool
            <% } %>
        </div>
        <div class="span4">
            <form class="form-horizontal">

                <fieldset>
                    <legend><%=name%></legend>
                    <div class="control-group">
                        <label class="control-label" for="venueSelector">Venue</label>

                        <div class="controls">
                            <select id='venueSelector'/>

                            <p class="help-block">
                                <small>Select a venue</small>
                            </p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="venueSelector">Date</label>

                        <div class="controls">
                            <select id="dayPicker"/>

                            <p class="help-block">
                                <small>Select a date</small>
                            </p>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="venueSelector">Performance Time</label>

                        <div class="controls">
                            <select id="performanceTimes"/>

                            <p class="help-block">
                                <small>Select a performance time</small>
                            </p>
                        </div>
                    </div>
                    <div class="control-group">
                        <div class="controls">
                            <div id='bookingOption'><input name="bookButton" class="btn btn-primary" type="button"
                                                           value="Book"></div>
                        </div>
                    </div>
                </fieldset>
            </form>

        </div>
    </div>
</script>

<script id="venue-detail" type="text/template">

    <table>
        <tr>
            <td colspan="2"><h1><%=name%></h1></td>
        </tr>
        <tr>
            <td rowspan="4"> <% if(picture != null) {%>
                <img width='350px' src='rest/media/<%=picture.id%>'/>
                <% } else { %>
                We cannot show you a picture, but trust us, it is very cool
                <% } %>
            </td>
            <td><label for='eventSelector'>Event: </label><select id='eventSelector'/></td>
        </tr>

        <tr>
            <td>
                <div style='font-size:0.7em' type='text' id="dayPicker"/>
            </td>
            <td>
                <label for="performanceTimes">Choose a time:</label><select id="performanceTimes"/>
            </td>
        </tr>
        <tr>
            <td><%=description%></td>
        </tr>
        <tr>
            <td><input name="bookButton" type="button" value="Book"></td>
        </tr>
    </table>
</script>


<script id="booking-row" type="text/template">
    <tr>
        <td><a><%=id%></a></td>
        <td><a><%=contactEmail%></a></td>
        <td><a class="btn btn-danger btn-mini" name='delete'><i class="icon-trash icon-white"/></a></td>
    </tr>
</script>

<script id="create-booking" type="text/template">
    <div class="row"><div class="span6">
        <h2><%=show.event.name%><p><small><%=show.venue.name%></small></p></h2>
        <p><%=new Date(performance.date).toPrettyString()%></p></div>

    </div>
    <div class="row-fluid">
    <div class="span6">
        <div class="row">
            <form class="form-horizontal well well-small">
                <div id="sectionSelectorPlaceholder" class="row-fluid"></div>
                <div id="ticketCategoriesViewPlaceholder" class="row-fluid"></div>
            </form>
        </div>
    </div>
    <div class="span5 right">
        <div class="hero-unit">
            <div id="ticketSummaryView"/>
            <input type='email' name="email" placeholder="Email" required/>
            <input type='button' class="btn btn-primary" name="submit" value="Book!" disabled="true"/>
            <input type='button' class="btn btn-danger" name="cancel" value="Cancel" disabled="false"/>
        </div>
    </div>
</script>

<script id="select-section" type="text/template">
    <div class="control-group">
        <label class="control-label" for="sectionSelect">Section</label>

        <div class="controls">
            <select id="sectionSelect">
                <option value="-1" selected="true">Choose a section</option>
                <% _.each(sections, function(section) { %>
                <option value="<%=section.id%>"><%=section.name%> - <%=section.description%></option>
                <% }) %>
            </select>
        </div>
    </div>
</script>

<script id="ticket-entries" type="text/template">
    <% if (priceCategories.length > 0) { %>
    <% _.each(priceCategories, function(priceCategory) { %>
        <div id="ticket-category-input-<%=priceCategory.id%>" class="row"/>
    <% }) %>
    <div class="row">
        <input type="button" class="btn-primary row" name="add" value="Add!"/>
    </div>
    <% } %>
</script>

<script id="ticket-entry" type="text/template">
    <div class="control-group">
        <label class="control-label" for="tickets-<%=priceCategory.ticketCategory.id%>"><%=priceCategory.ticketCategory.description%></label>

        <div class="controls"><input type="number" title="Enter value"
                                     name="tickets-<%=priceCategory.ticketCategory.id%>"/>
            <span class="help-block">$<%=priceCategory.price%></span>
        </div>
    </div>
</script>

<script id="ticket-summary-view" type="text/template">
    Current request:</p>
    <% _.each(tickets, function(ticketRequest) { %>
    <% _.each(ticketRequest.models, function(model) { %>
    <% if (model.attributes.quantity != undefined) { %>
    <%= model.attributes.priceCategory.section.name %> (<%= model.attributes.priceCategory.section.description %>) -
    (<%= model.attributes.priceCategory.ticketCategory.description %>):
    <%= model.attributes.quantity %>
    <% } %>
    <% }) %>
    <% }) %>
</script>

<script id="booking-details" type="text/template">
    <table class="table table-striped table-bordered span12">
        <thead>
        <tr>
            <th colspan="5">Booking <%=id%></th>
        <tr>
        <tr>
            <th>Ticket #</th>
            <th>Category</th>
            <th>Section</th>
            <th>Row</th>
            <th>Seat</th>
        </tr>
        </thead>
        <tbody>
        <% $.each(_.sortBy(tickets, function(ticket) {return ticket.id}), function (i, ticket) { %>
        <tr>
            <td><%= ticket.id %></td>
            <td><%=ticket.ticketCategory.description%></td>
            <td><%=ticket.seat.section.name%></td>
            <td><%=ticket.seat.rowNumber%></td>
            <td><%=ticket.seat.number%></td>
        </tr>
        <% }) %>
        <tr>
            <td colspan="5"/>
            <a href="#bookings">Show all</a>
            <td>
        </tr>

        </tbody>
    </table>
    </div>
</script>


